<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" >
<head>
	<th:block th:replace="fragments/meta :: metaFragment(title='건물광고 외부 점포 수정', useMetaCsrf='true')"></th:block>
	
	
	<!--  css style  -->
	<th:block th:replace="fragments/style :: styleFragment"></th:block>
	<!--  select  -->
	<link rel="stylesheet" type="text/css" th:href="@{/resources/honeyArcade/admin/ad/build/css/adminAdBuildMod.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/resources/cork/plugins/bootstrap-select/bootstrap-select.min.css}">
	<link th:href="@{/resources/cork/plugins/file-upload/file-upload-with-preview.min.css}" rel="stylesheet" type="text/css">
	<link th:href="@{/resources/cork/plugins/flatpickr/flatpickr.css}" rel="stylesheet" type="text/css">
	<link th:href="@{/resources/cork/plugins/bootstrap-range-Slider/bootstrap-slider.css}" rel="stylesheet" type="text/css">
</head>


<body class="sidebar-noneoverflow">
    
	<!--  header  -->
	<th:block th:replace="fragments/header :: headerFragment"></th:block>
	

    <!--  BEGIN MAIN CONTAINER  -->
    <div class="main-container" id="container">

        <div class="overlay"></div>
        <div class="search-overlay"></div>

		<!--  sidebar  -->
		<th:block th:replace="fragments/sidebar :: sidebarFragment(main='ad', sub='ad-build')"></th:block>
		        
        <!--  BEGIN CONTENT AREA  -->
        <div id="content" class="main-content">
            <div class="layout-px-spacing">
  			<!-- CONTENT AREA -->
            	<div class="row layout-top-spacing">
					<div id="tableHover" class="col-lg-12 col-12">
						<div class="statbox widget box box-shadow">
							<div class="widget-header">
								<div class="row">
									<div class="col-xl-12 col-md-12 col-sm-12 col-12">
										<h4>광고 관리</h4>
									</div>
								</div>
							</div>
							<div class="widget-content widget-content-area">
								<div class="formbox bg-light mb-3 p-3">
									<div class="form-check">
									  
									  <label class="form-check-label" for="">
									    외부점포
									  </label>
									</div>
									<form class="col-12 my-3 ">
										<select class="select-box" data-live-search="true" title="시,도" id="sidoSelectExt" name="sido_seq">
											<th:block th:if="${sidoList.size()!=0}">
												<th:block th:each="list : ${sidoList}">
													<option th:value="${list.sido_seq}" th:text="${list.sido_name}" th:selected="${adminAdBuildVO.sido_seq == list.sido_seq}"></option>
												</th:block>
											</th:block>
										</select>
										<select class="select-box" data-live-search="true" title="군,구" id="sigunguSelectExt" name="sigungu_seq">
											<th:block th:if="${sigunguList != null}">
												<th:block th:if="${sigunguList.size() != 0}">
													<th:block th:each="list : ${sigunguList}">
														<option th:value="${list.sigungu_seq}" th:text="${list.sigungu_name}" th:selected="${adminAdBuildVO.sigungu_seq == list.sigungu_seq}" ></option>
													</th:block>
												</th:block>
											</th:block>										
										</select>
										<select class="select-box" data-live-search="true" title="지역" id="dongSelectExt" name="dong_seq">
											<th:block th:each="list : ${dongList}">
													<option th:value="${list.dong_seq}" th:text="${list.dong_name}" th:selected="${adminAdBuildVO.dong_seq == list.dong_seq}" ></option>
											</th:block>										
										</select>
										<input type ="text" class="inputbox col-3"placeholder="상호명을 입력해 주세요" id="owner_name" name="owner_name" th:value="${bannerVO.owner_name}">
										<div class="col-12">
											<label>연결 URL</label>
											<input class="inputbox col-8" type ="text" placeholder="URL을 입력해 주세요" id="banner_url" name="banner_url" th:value="${bannerVO.banner_url}">
										</div>
									</form>
								</div>
							
							</div>
						</div>
					</div>
				</div>
				<div class="statbox widget box box-shadow mt-1">
                	<div class="widget-header">                                 
                         <div class="row">
                         	<div class="col-xl-12 col-md-12 col-sm-12 col-12">
                            	<h4>사진 업로드</h4> 
                            </div>
                         </div>
                    </div>
					<div class="widget-content widget-content-area d-flex">
						<div class="custom-file-container col-6" data-upload-id="myFirstImage">
						    <label>광고배너사진업로드 <a href="javascript:void(0)" class="custom-file-container__image-clear" title="Clear Image">x</a></label>
						    <div class="d-flex">
							    <label class="custom-file-container__custom-file" >
							        <input type="file" class="custom-file-container__custom-file__custom-file-input" accept="image/*" name="banner_img">
							        <span class="custom-file-container__custom-file__custom-file-control">
							        	Choose file...<span class="custom-file-container__custom-file__custom-file-control__button"> Browse </span>
							       	</span>
							    </label>
							    <input type="button" class="btn btn-primary btn ml-2 col-2" id="bannerImgPrev" value="확인" disabled>
							</div>
						</div>
						<div class="custom-file-container col-6" data-upload-id="mySecondImage">
						    <label>홍보메인사진업로드 <a href="javascript:void(0)" class="custom-file-container__image-clear" title="Clear Image">x</a></label>
						    <div class="d-flex">
							    <label class="custom-file-container__custom-file" >
							        <input type="file" class="custom-file-container__custom-file__custom-file-input" accept="image/*" name="banner_main_img">
							        <span class="custom-file-container__custom-file__custom-file-control">
							        	Choose file...<span class="custom-file-container__custom-file__custom-file-control__button"> Browse </span>
							       	</span>
							    </label>
							    <input type="button" class="btn btn-primary btn ml-2 col-2" id="bannerMainImgPrev" value="확인" disabled>
							</div>
						</div>
					</div>
				</div>
				<div class="statbox widget box box-shadow mt-1">
                	<div class="widget-header">                                 
                         <div class="row">
                         	<div class="col-xl-12 col-md-12 col-sm-12 col-12">
                            	<h4>광고 날짜 설정</h4> 
                            </div>
                         </div>
                    </div>
                	<div class="widget-content widget-content-area d-flex">
                      	<div class="form-group col-3">
                          	<input id="basicFlatpickr" class="form-control flatpickr flatpickr-input" type="text" placeholder="광고시작일" readonly="readonly" name="banner_start_day" th:value="${bannerVO.banner_start_day}">
                      	</div>
                      	<div class="form-group col-3">
                          	<input id="basicFlatpickr1" class="form-control flatpickr flatpickr-input" type="text" placeholder="광고종료일" readonly="readonly" name="banner_end_day" th:value="${bannerVO.banner_end_day}">
                      	</div>
                	</div>
            	</div>
            	<div class="statbox widget box box-shadow mt-1">
                	<div class="widget-header">                                 
                         <div class="row">
                         	<div class="col-xl-12 col-md-12 col-sm-12 col-12">
                            	<h4>건물 설정</h4> 
                            </div>
                         </div>
                    </div>
                	<div class="widget-content widget-content-area d-flex flex-column">
                      	<div class="mb-2 d-flex">
                      		<label>건물 설정</label>
                      		<button class="btn btn-primary btn ml-2" data-toggle="modal" data-target="#location">클릭</button>
                      		<!--  건물 -->
                      		<div id="buildAd">
								<th:block th:each="list : ${bannerBuildList}">
                      				<span class="build-box">
										<span class="badge-chip badge-warning mt-3 mb-3 ml-2 position-relative">
											<span class="closebtn pl-2 banner-del-btn">×</span>
											<span class="build-text" th:text="${list.build_name}"></span>
											<input type="hidden" name="build_seq" th:value="${list.build_seq}">
										</span>
									</span>
                      			</th:block>
                      		</div>
                      		
                      		<div class="modal zoomInUp" id="location" tabindex="-1" role="dialog" aria-labelledby="location" aria-hidden="true" data-backdrop="static">
							    <div class="modal-dialog modal-dialog-centered" role="document">
							        <div class="modal-content">
							            <div class="modal-header">
							                <h5 class="modal-title" id="exampleModalLabel">건물 설정</h5>
							            </div>
							            <div class="modal-body">
							                <form>
												<select class="select-box row mb-1" data-live-search="true" title="시,도" id="popSidoSelect" name="sido_seq">
													<th:block th:if="${sidoList.size()!=0}">
														<th:block th:each="list : ${sidoList}">
															<option th:value="${list.sido_seq}" th:text="${list.sido_name}" ></option>
														</th:block>
													</th:block>
												</select>
												<select class="select-box row mb-1" data-live-search="true" title="군,구" id="popSigunguSelect" name="sigungu_seq">
												</select>
												<select class="select-box row mb-1" data-live-search="true" title="지역" id="popDongSelect" name="dong_seq">
												</select>
												<select class="select-box" data-live-search="true" title="건물" id="popBuildSelect" name="build_seq">
												</select>
												<input type="button" id="buildAddBtn" value="추가">
												<!--  모달 지역  -->
												<div id="buildAddbox">
													
												</div>
											</form>
							            </div>
							            <div class="modal-footer">
							                <button class="btn" data-dismiss="modal" id="popCancelBtn"><i class="flaticon-cancel-12"></i>취소</button>
							                <button type="button" class="btn btn-primary" id="popSaveBtn">저장</button>
							            </div>
							        </div>
							    </div>
							</div>
                      	</div>
                      	
                      	<div class="d-flex">
                      		<label>레벨 설정</label>
                      		<input id="t-text" type="number" name="txt" placeholder="1~9999" class="form-control col-1 ml-2 level" required="" max="9999" min="1" th:value="${bannerVO.banner_sort}"> 
                      	</div>
                      	
                	</div>
            	</div>
            	
            	<div class="statbox widget box box-shadow mt-1">
            		<form id="listForm" method="get" th:action="@{/admin/ad/build/list}">
            			<input type="hidden" name="sido_seq" 	th:value="${adminAdBuildVO.sido_seq}">
            			<input type="hidden" name="sigungu_seq"	th:value="${adminAdBuildVO.sigungu_seq}">
            			<input type="hidden" name="dong_seq"	th:value="${adminAdBuildVO.dong_seq}">
            			<input type="hidden" name="search_text"	th:value="${adminAdBuildVO.search_text}">
            			<input type="hidden" name="listCount"	th:value="${adminAdBuildVO.listCount}">
            			<input type="hidden" name="nowPage"		th:value="${adminAdBuildVO.nowPage}">
            			<input type="hidden" name="type"		th:value="${adminAdBuildVO.type}">
            			<input type="hidden" name="build_type"	th:value="${adminAdBuildVO.build_type}">
            		</form>
            		<input type="button" id="saveBtn" value="저장">
            		<input type="button" id="listBtn" value="목록">
            		
            	</div>
            </div>
            <!-- CONTENT AREA -->

            <!--  footer   -->
            <th:block th:replace="fragments/footer"></th:block>
        <!--  END CONTENT AREA  -->
    <!-- END MAIN CONTAINER -->

<input type="hidden" id="banner_seq"  name="banner_seq"  th:value="${bannerVO.banner_seq}">    
<input type="hidden" id="banner_type" name="banner_type" th:value="${adminAdBuildVO.banner_type}">

    
<div id="delFile" class="display-none">
	<div>
	</div>
</div>
    
<div id="fileClone" class="display-none">
	<div>
		<input type="hidden" name="file_dtl_desc" value="">
		<input type="hidden" name="file_dtl_ext" value="">
		<input type="hidden" name="file_dtl_origin" value="">
		<input type="hidden" name="file_dtl_path" value="">
		<input type="hidden" name="file_dtl_url_path" value="">
		<input type="hidden" name="file_type" value="">
		<input type="hidden" name="file_seq" value="">
		<img class="file_image">
	</div>
</div>        

<div style="display:none" id="topBanner">
	<div>
		<input type="hidden" name="file_dtl_desc" 		th:value="${bannerVO.banner_file_dtl_desc}">
		<input type="hidden" name="file_dtl_ext" 		th:value="${bannerVO.banner_file_dtl_ext}">
		<input type="hidden" name="file_dtl_origin" 	th:value="${bannerVO.banner_file_dtl_origin}">
		<input type="hidden" name="file_dtl_path" 		th:value="${bannerVO.banner_file_dtl_path}">
		<input type="hidden" name="file_dtl_url_path" 	th:value="${bannerVO.banner_dtl_url_path}">
		<input type="hidden" name="file_type" 			th:value="${bannerVO.banner_file_type}">
		<input type="hidden" name="file_seq" 			th:value="${bannerVO.banner_img}">
		<img class="file_image" th:src="${bannerVO.banner_dtl_url_path}">
	</div>
</div>

<div style="display:none" id="popBanner">
	<div>
		<input type="hidden" name="file_dtl_desc" 		th:value="${bannerVO.main_file_dtl_desc}">
		<input type="hidden" name="file_dtl_ext" 		th:value="${bannerVO.main_file_dtl_ext}">
		<input type="hidden" name="file_dtl_origin" 	th:value="${bannerVO.main_file_dtl_origin}">
		<input type="hidden" name="file_dtl_path" 		th:value="${bannerVO.main_file_dtl_path}">
		<input type="hidden" name="file_dtl_url_path" 	th:value="${bannerVO.main_dtl_url_path}">
		<input type="hidden" name="file_type" 			th:value="${bannerVO.main_file_type}">
		<input type="hidden" name="file_seq" 			th:value="${bannerVO.banner_main_img}">
		<img class="file_image" th:src="${bannerVO.main_dtl_url_path}">
	</div>
</div>	

<div id="badgeClone" style="display: none;">
	<span class="build-box">
		<span class="badge-chip badge-warning mt-3 mb-3 ml-2 position-relative">
			<span class="build-text"></span>
			<span class="closebtn pl-2 banner-del-btn">×</span>
			<input type="hidden" name="sido_seq" value="">
			<input type="hidden" name="sigungu_seq" value="">
			<input type="hidden" name="dong_seq" value="">
			<input type="hidden" name="build_seq" value="">
		</span>
	</span>
</div>


	<th:block th:replace="fragments/script :: scriptFragment(useScriptCsrf='true')"></th:block>
	<script th:src="@{/resources/cork/plugins/bootstrap-select/bootstrap-select.min.js}"></script>
	<script th:src="@{/resources/cork/plugins/file-upload/file-upload-with-preview.min.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/regex.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/fileUpload.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/areaAdSelect.js}"></script>
	<script th:src="@{/resources/cork/plugins/flatpickr/flatpickr.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/ad/build/js/adminAdBuildMod.js}"></script>
	<script th:src="@{/resources/cork/plugins/bootstrap-range-Slider/bootstrap-rangeSlider.js}"></script>
	
	<script th:inline="javascript">
	/* <![CDATA[ */
		
	/*]] */
	</script>
</body>

</html>