<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<th:block th:replace="fragments/meta :: metaFragment(title='건물광고 제휴 점포 수정', useMetaCsrf='true')"></th:block>
	<th:block th:replace="fragments/style :: styleFragment"></th:block>
	<link rel="stylesheet" type="text/css"
		th:href="@{/resources/honeyArcade/admin/ad/build/css/adminAdBuildModForm.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/resources/cork/plugins/bootstrap-select/bootstrap-select.min.css}">
	<link th:href="@{/resources/cork/plugins/file-upload/file-upload-with-preview.min.css}" rel="stylesheet"
		type="text/css">
	<link th:href="@{/resources/cork/plugins/flatpickr/flatpickr.css}" rel="stylesheet" type="text/css">
	<link th:href="@{/resources/cork/plugins/bootstrap-range-Slider/bootstrap-slider.css}" rel="stylesheet"
		type="text/css">
	<link rel="stylesheet" type="text/css" th:href="@{/resources/honeyArcade/admin/common/viewerjs/css/viewer.css}">
</head>
<body class="sidebar-noneoverflow">
	<!--  header  -->
	<th:block th:replace="fragments/header :: headerFragment"></th:block>

	<!--  BEGIN MAIN CONTAINER  -->
	<div class="main-container" id="container">

		<div class="overlay"></div>
		<div class="search-overlay"></div>

		<!--  sidebar  -->
		<th:block th:replace="fragments/sidebar :: sidebarFragment(main='ad', sub='ad-build')"></th:block>

		<!--  BEGIN CONTENT AREA  -->
		<div id="content" class="main-content">
			<div class="layout-px-spacing">
				<!-- CONTENT AREA -->
				<div class="row layout-top-spacing">
					<div id="tableHover" class="col-lg-12 col-12">
						<div class="statbox widget box box-shadow">
							<div class="widget-header">
								<div class="row">
									<div class="col-xl-12 col-md-12 col-sm-12 col-12">
										<h4>건물 광고 관리 - <span style=" color:#5a311d;"> [[${bannerVO.store_name}]] ([[${bannerVO.member_id}]])</span></h4>
									</div>
								</div>
							</div>
							<div class="widget-content widget-content-area">
								<div class="formbox">
									<form class="col-12">
										<div class="form-inline">
											<select class="select-picker mr-2" data-width="fit" data-live-search="true"
												title="시,도" id="sidoSelectExt" name="sido_seq" disabled>
												<th:block th:if="${sidoList.size()!=0}">
													<th:block th:each="list : ${sidoList}">
														<option th:value="${list.sido_seq}" th:text="${list.sido_name}"
															th:selected="${adminAdBuildVO.sido_seq == list.sido_seq}">
														</option>
													</th:block>
												</th:block>
											</select>
											<select class="select-picker mr-2" data-width="fit" data-live-search="true"
												title="군,구" id="sigunguSelectExt" name="sigungu_seq" disabled>
												<th:block th:if="${sigunguList != null}">
													<th:block th:if="${sigunguList.size() != 0}">
														<th:block th:each="list : ${sigunguList}">
															<option th:value="${list.sigungu_seq}"
																th:text="${list.sigungu_name}"
																th:selected="${adminAdBuildVO.sigungu_seq == list.sigungu_seq}">
															</option>
														</th:block>
													</th:block>
												</th:block>
											</select>
											<select class="select-picker mr-2" data-width="fit" data-live-search="true"
												title="지역" id="dongSelectExt" name="dong_seq" disabled>
												<th:block th:each="list : ${dongList}">
													<option th:value="${list.dong_seq}" th:text="${list.dong_name}"
														th:selected="${adminAdBuildVO.dong_seq == list.dong_seq}">
													</option>
												</th:block>
											</select>

											<select class="select-picker mr-2" data-width="fit" data-live-search="true"
												title="건물" id="buildSelectExt" name="build_seq" disabled>
												<th:block th:each="list : ${buildList}">
													<option th:value="${list.build_seq}" th:text="${list.build_name}"
														th:selected="${adminAdBuildVO.build_seq == list.build_seq}">
													</option>
												</th:block>
											</select>

											<select class="select-picker" data-width="fit" data-live-search="true"
												title="상호명" id="storeSelectExt" name="owner_id" disabled>
												<th:block th:each="list : ${ownerList}">
													<option th:value="${list.owner_id}" th:text="${list.store_name}"
														th:selected="${adminAdBuildVO.owner_id == list.owner_id}">
													</option>
												</th:block>
											</select>
										</div>
									</form>
								</div>

							</div>
						</div>
					</div>
				</div>
				<div class="statbox widget box box-shadow mt-1">
					<div class="widget-header">
						<div class="row">
							<div class="col-xl-12 col-md-12 col-sm-12 col-12">
								<h4>사진 업로드</h4>
							</div>
						</div>
					</div>
					<div class="widget-content widget-content-area">
						<form class="form-horizontal">
							<div class="form-group">
								<label class="col-sm-2 control-label"> 광고배너사진 업로드</label>
								<label for="bannerImg">
									<span class="btn btn-dark">업로드</span>
								</label>
								<input type="file" id="bannerImg" accept="image/*" name="banner_img" style="display: none;">
								<button type="button" id="bannerImgPrev" class="btn btn-info" disabled>확인</button>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label"> 홍보메인사진 업로드</label>
								<label for="bannerMainImg">
									<span class="btn btn-dark">업로드</span>
								</lable>
								<input type="file" id="bannerMainImg" accept="image/*" name="banner_main_img" style="display: none;">
								<button type="button" id="bannerMainImgPrev" class="btn btn-info" disabled>확인</button>
							</div>
						</form>

					</div>
					<div class="statbox widget box box-shadow mt-1">
						<div class="widget-header">
							<div class="row">
								<div class="col-xl-12 col-md-12 col-sm-12 col-12">
									<h4>광고 날짜 설정</h4>
								</div>
							</div>
						</div>
						<div class="widget-content widget-content-area d-flex">
							<div class="form-group col-3">
								<input id="basicFlatpickr" class="form-control flatpickr flatpickr-input" type="text"
									placeholder="광고시작일" readonly="readonly" name="banner_start_day"
									th:value="${bannerVO.banner_start_day}">
							</div>
							<div class="form-group col-3">
								<input id="basicFlatpickr1" class="form-control flatpickr flatpickr-input" type="text"
									placeholder="광고종료일" readonly="readonly" name="banner_end_day"
									th:value="${bannerVO.banner_end_day}">
							</div>
						</div>
					</div>
					<div class="statbox widget box box-shadow mt-1">
						<div class="widget-header">
							<div class="row">
								<div class="col-xl-12 col-md-12 col-sm-12 col-12">
									<h4>건물 설정</h4>
								</div>
							</div>
						</div>
						<div class="widget-content widget-content-area d-flex flex-column">
							<div class="mb-2 d-flex align-items-center">
								<label>건물 설정</label>
								<button class="btn btn-primary btn ml-2" data-toggle="modal"
									data-target="#location">클릭</button>
								<!--  건물 -->
								<div id="buildAd">
									<th:block th:each="list : ${bannerBuildList}">
										<span class="build-box">
											<span class="badge-chip badge-warning mt-3 mb-3 ml-2 position-relative">
												<span class="closebtn pl-2 banner-del-btn">×</span>
												<span class="build-text" th:text="${list.build_name}"></span>
												<input type="hidden" name="build_seq" th:value="${list.build_seq}">
											</span>
										</span>
									</th:block>
								</div>

								<div class="modal zoomInUp" id="location" tabindex="-1" role="dialog"
									aria-labelledby="location" aria-hidden="true" data-backdrop="static">
									<div class="modal-dialog modal-dialog-centered" role="document">
										<div class="modal-content">
											<div class="modal-header">
												<h5 class="modal-title" id="exampleModalLabel">건물 설정</h5>
											</div>
											<div class="modal-body">
												<form>
													<select class="select-picker" data-width="fit"
														data-live-search="true" title="시,도" id="popSidoSelect"
														name="sido_seq">
														<th:block th:if="${sidoList.size()!=0}">
															<th:block th:each="list : ${sidoList}">
																<option th:value="${list.sido_seq}"
																	th:text="${list.sido_name}"></option>
															</th:block>
														</th:block>
													</select>
													<select class="select-picker" data-width="fit"
														data-live-search="true" title="군,구" id="popSigunguSelect"
														name="sigungu_seq">
													</select>
													<select class="select-picker" data-width="fit"
														data-live-search="true" title="지역" id="popDongSelect"
														name="dong_seq">
													</select>
													<select class="select-picker" data-width="fit"
														data-live-search="true" title="건물" id="popBuildSelect"
														name="build_seq">
													</select>
													<input type="button" class="btn btn-info mb-2" id="buildAddBtn"
														value="추가">
													<!--  모달 지역  -->
													<div id="buildAddbox">

													</div>
												</form>
											</div>
											<div class="modal-footer">
												<button class="btn" data-dismiss="modal" id="popCancelBtn"><i
														class="flaticon-cancel-12"></i>취소</button>
												<button type="button" class="btn btn-primary"
													id="popSaveBtn">저장</button>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="d-flex align-items-center">
								<label>레벨 설정</label>
								<input id="t-text" type="number" name="txt" placeholder="1~9999"
									class="form-control col-1 ml-2 level" required="" max="9999" min="1"
									th:value="${bannerVO.banner_sort}">
							</div>

						</div>
					</div>
				</div>

				<div class="d-flex justify-content-end mt-2">
					<form id="listForm" method="get" th:action="@{/admin/ad/build/list}">
						<input type="hidden" name="sido_seq" th:value="${adminAdBuildVO.sido_seq}">
						<input type="hidden" name="sigungu_seq" th:value="${adminAdBuildVO.sigungu_seq}">
						<input type="hidden" name="dong_seq" th:value="${adminAdBuildVO.dong_seq}">
						<input type="hidden" name="search_text" th:value="${adminAdBuildVO.search_text}">
						<input type="hidden" name="listCount" th:value="${adminAdBuildVO.listCount}">
						<input type="hidden" name="nowPage" th:value="${adminAdBuildVO.nowPage}">
						<input type="hidden" name="type" th:value="${adminAdBuildVO.type}">
						<input type="hidden" name="build_type" th:value="${adminAdBuildVO.build_type}">
					</form>
					<input type="button" id="saveBtn" value="저장" class="btn btn-info mr-2">
					<input type="button" id="listBtn" value="목록" class="btn btn-secondary">

				</div>
			</div>
			<!-- CONTENT AREA -->

			<!--  footer   -->
			<th:block th:replace="fragments/footer"></th:block>
			<!--  END CONTENT AREA  -->
			<!-- END MAIN CONTAINER -->

			<input type="hidden" id="banner_seq" name="banner_seq" th:value="${bannerVO.banner_seq}">
			<input type="hidden" id="banner_type" name="banner_type" th:value="${bannerVO.banner_type}">
			<input type="hidden" id="owner_id" name="owner_id" th:value="${bannerVO.owner_id}">


			<div id="delFile" class="display-none">
				<div>
				</div>
			</div>

			<div id="fileClone" class="display-none">
				<div>
					<input type="hidden" name="file_dtl_desc" value="">
					<input type="hidden" name="file_dtl_ext" value="">
					<input type="hidden" name="file_dtl_origin" value="">
					<input type="hidden" name="file_dtl_path" value="">
					<input type="hidden" name="file_dtl_url_path" value="">
					<input type="hidden" name="file_type" value="">
					<input type="hidden" name="file_seq" value="">
					<img class="file_image">
				</div>
			</div>

			<div style="display:none" id="topBanner">
				<div>
					<input type="hidden" name="file_dtl_desc" th:value="${bannerVO.banner_file_dtl_desc}">
					<input type="hidden" name="file_dtl_ext" th:value="${bannerVO.banner_file_dtl_ext}">
					<input type="hidden" name="file_dtl_origin" th:value="${bannerVO.banner_file_dtl_origin}">
					<input type="hidden" name="file_dtl_path" th:value="${bannerVO.banner_file_dtl_path}">
					<input type="hidden" name="file_dtl_url_path" th:value="${bannerVO.banner_dtl_url_path}">
					<input type="hidden" name="file_type" th:value="${bannerVO.banner_file_type}">
					<input type="hidden" name="file_seq" th:value="${bannerVO.banner_img}">
					<img class="file_image" th:src="${bannerVO.banner_dtl_url_path}">
				</div>
			</div>

			<div style="display:none" id="popBanner">
				<div>
					<input type="hidden" name="file_dtl_desc" th:value="${bannerVO.main_file_dtl_desc}">
					<input type="hidden" name="file_dtl_ext" th:value="${bannerVO.main_file_dtl_ext}">
					<input type="hidden" name="file_dtl_origin" th:value="${bannerVO.main_file_dtl_origin}">
					<input type="hidden" name="file_dtl_path" th:value="${bannerVO.main_file_dtl_path}">
					<input type="hidden" name="file_dtl_url_path" th:value="${bannerVO.main_dtl_url_path}">
					<input type="hidden" name="file_type" th:value="${bannerVO.main_file_type}">
					<input type="hidden" name="file_seq" th:value="${bannerVO.banner_main_img}">
					<img class="file_image" th:src="${bannerVO.main_dtl_url_path}">
				</div>
			</div>

			<div id="badgeClone" style="display: none;">
				<span class="build-box">
					<span class="badge-chip badge-warning mt-3 mb-3 ml-2 position-relative">
						<span class="build-text"></span>
						<span class="closebtn pl-2 banner-del-btn">×</span>
						<input type="hidden" name="sido_seq" value="">
						<input type="hidden" name="sigungu_seq" value="">
						<input type="hidden" name="dong_seq" value="">
						<input type="hidden" name="build_seq" value="">
					</span>
				</span>
			</div>
		</div>
	</div>

	<th:block th:replace="fragments/script :: scriptFragment(useScriptCsrf='true')"></th:block>
	<script th:src="@{/resources/cork/plugins/bootstrap-select/bootstrap-select.min.js}"></script>
	<script th:src="@{/resources/cork/plugins/file-upload/file-upload-with-preview.min.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/regex.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/fileUpload.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/js/areaAdSelect.js}"></script>
	<script th:src="@{/resources/cork/plugins/flatpickr/flatpickr.js}"></script>
	<script th:src="@{/resources/cork/plugins/flatpickr/ko.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/common/viewerjs/js/viewer.js}"></script>
	<script th:src="@{/resources/honeyArcade/admin/ad/build/js/adminAdBuildModForm.js}"></script>
	<script th:src="@{/resources/cork/plugins/bootstrap-range-Slider/bootstrap-rangeSlider.js}"></script>
</body>

</html>